{% load static%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>supervisor</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
      integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="{% static 'css/supervisor.css'%}" />
  </head>
  <body>
    <div class="container">
      <p class="text-center"></p>
      <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <a
                href="{% url 'supervisor_dashboard'%}"
                class="badge badge-success rounded-pill"
                class="btn btn-success btn-floating"
                style="
                  position: absolute;
                  top: -15px;
                  right: -10px;
                  padding: 10px;
                "
                title="close"
              >
                <i class="fas fa-close"></i>
              </a>
              <h6 class="card-title"><b>STUDENT NAME:</b>&nbsp;&nbsp;</h6>
              <h6 class="card-title">
                <b>COURSE OF STUDY:</b> INFORMATION TECHNOLOGY
              </h6>
              <hr />
              <div id="date-picker" style="display: flex" class="row mb-2">
                <div class="col-md-12 text-center">
                  <!-- query form -->
                  <form style="display: flex" class="mb-3" method="post">
                    {% csrf_token %}
                    <label> <b>FROM:</b>&nbsp;&nbsp;&nbsp;</label>
                    <input
                      style="width: 40px"
                      type="date"
                      placeholder="date"
                      name="from"
                      class="form-control"
                    />
                    &nbsp; -- &nbsp; <b>TO:</b> &nbsp;
                    <input
                      style="width: 40px"
                      type="date"
                      placeholder="date"
                      name="to"
                      class="form-control"
                    />
                    <label> &nbsp;&nbsp;&nbsp;</label> &nbsp;&nbsp;&nbsp;
                    <button type="submit" class="btn btn-info btn-sm">
                      <i class="fa-sharp fa-solid fa-magnifying-glass"></i>
                    </button>
                  </form>
                </div>
              </div>
              <div class="table-wrapper-scroll-y my-custom-scrollbar">
                <table
                  class="table table-bordered align-middle mb-0 bg-white  mb-2"
                  style=" width: 100%"
                >
                  <thead class="">
                    <tr style="background-color: #e7fbec">
                      <th><b>DAY</b></th>
                      <th><b>ACTIVITIES</b></th>
                      <th><b>STATUS</b></th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for logbook in log_books %}
                    <div
                      class="modal fade"
                      id="exampleModal{{logbook.id}}"
                      tabindex="-1"
                      role="dialog"
                      aria-labelledby="exampleModalLabel"
                      aria-hidden="true"
                    >
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <div style="display: block">
                              <h6 class="card-title">
                                <b><small>STUDENT NAME: {{logbook.student.name}}</small></b>
                              </h6>
                              <h6 class="card-title">
                                <b><small>COURSE OF STUDY:{{logbook.student.course}}</small></b>
                              </h6>
                            </div>
                            {% comment %} <button
                              type="button"
                              class="close"
                              data-dismiss="modal"
                              aria-label="Close"
                            >
                              <span aria-hidden="true">&times;</span>
                            </button> {% endcomment %}
                            <button
                            type="button"
                            class="badge badge-warning"
                            data-dismiss="modal"
                            aria-label="Close"
                          >
                          <span aria-hidden="true">&times;</span>
                          </button>
                          </div>
                          <div class="modal-body">
                            <form
                              method="post"
                              action="{% url 'logbook_comment' logbook.pk %}"
                              class="form-group"
                              id="feedback"
                            >
                              <label for="comment" class="mt-2">
                                Feedback:
                              </label>
                              <input
                                type="hidden"
                                name="next"
                                value="{{ request.get_full_path }}"
                              />

                              {% csrf_token %}
                              <div class="form-group">
                                <textarea
                                  class="form-control"
                                  id="comment"
                                  name="comment"
                                  rows="3"
                                ></textarea>
                              </div>
                              <button
                                type="submit"
                                class="btn badge-success rounded-pill mt-2"
                                style="background-color: #386a2c; color: white"
                              >
                                submit feedback
                              </button>
                            </form>
                            {% comment %}
                            <p class="text-muted mb-0">{{logbook.activity}}</p>
                            {% endcomment %}
                          </div>
                          <div class="modal-footer">
                          </div>
                        </div>
                      </div>
                    </div>
                    <tr>
                      <td>
                        <p class="fw-normal mb-1">
                          <b>{{logbook.date | date:"l" }}</b>
                        </p>
                      </td>
                      <td>
                        <p class="text-muted mb-0">{{logbook.activity}}</p>
                      </td>
                      <td style="position: relative">
                        <a
                          style="
                            position: absolute;
                            top: -3px;
                            right: -2px;
                            padding: 10px;
                           cursor:pointer
                            

                          "
                          data-toggle="modal"
                          data-target="#exampleModal{{logbook.id}}"
                          title="close"
                         
                        >
                          <i class="fa-solid fa-ellipsis"></i>
                        </a>
                        {% if logbook.status%}
                        <span class="badge badge-pill badge-success"
                          ><i class="fa-solid fa-check"></i
                        ></span>
                        {% else %}
                        <span class="badge badge-pill badge-warning p-.5"
                          >pending ...</span
                        >
                        {% endif %}
                      </td>
                    </tr>
                    {%endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3"></div>
      </div>
    </div>
    <!-- Modal -->
    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <!-- Popper.JS -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
      integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
      crossorigin="anonymous"
    ></script>
    <!-- Bootstrap JS -->
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
      integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $("#addFeedback").on("click", () => {
          $("#feedback").css("display", "block");
          $("#addFeedback").css("display", "none");
          $(document).scrollTop($(document).height());
        });
        //$( ".hoverable" )
        // .mouseenter(function() {
        // $( ".info" ).show();
        //  })
        // .mouseleave(function() {
        //$(".info").hide();
        //  });
      });
    </script>
  </body>
</html>
